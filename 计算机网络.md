# 计算机网络整理

## 1. 七层五层体系数据单元

- 七层模型（OSI模型）包括物理层、数据链路层、网络层、传输层、会话层、表示层和应用层，每层使用特定协议，数据封装为帧、数据包、段等。
- 五层模型是TCP/IP模型，包括物理层、数据链路层、网络层、传输层和应用层，对应七层模型的底层。

## 2. 层间传输数据的封装

```stru
+---------------------+
|  以太网帧首部         |
+---------------------+
|   IP首部             |
+---------------------+
|  TCP首部             |
+---------------------+
|   应用层数据          |
+---------------------+
|  以太网帧尾部（FCS）  |
+---------------------+
```

## 3. 拓展以太网的两种方法，采取的设备

- TCP协议的直接填充方式：字节填充（对每个特定字节进行转换）、零比特填充（每5个连续的1插入一个0）。

## 4. 电子邮件、文件传输协议及其工作过程

- **电子邮件：SMTP发送，POP3和IMAP接收。**
- - 发送：SMTP 发件人发送到发送方服务器，发送方服务器使用TCP协议发送到接收方服务器
- - 接收：POP3、IMAP 收件人从接收方服务器接收邮件，POP3删除邮件，IMAP保留邮件
- **FTP：...**
  - 控制进程端口号：**21**
  - 文件传输端口号：**20**

## 5. 每一类IP地址的特点

- A类：1-126    01
- B类：128-191  10
- C类：192-223  110
- 多播：224-239 1110
- 未使用：240-255。 1111
- 特殊地址：127.0.0.1（localhost）
- A类私有：10.x.x.x
- B类私有：172.16-172.31.x.x
- C类私有：192.168.x.x
- 广播地址：二进制子网编码全为1。

## 6. 网络层的IP协议、运输层的TCP、UDP协议特点

- IP：无连接、不可靠、无状态、分组、路由交换。
- TCP：面向连接、可靠、流量控制、拥塞控制、字节流。
- UDP：无连接、不可靠、低延迟、简单、数据包。

## 7. 拥塞管理

- 拥塞控制通过动态调整窗口大小减小丢包概率。
- **慢开始：初始窗口大小为1，每次收到确认后窗口大小加倍，直到达到慢开始门限，之后进入拥塞避免。**
- **拥塞避免：每次收到确认后窗口大小加1，直到达到慢开始门限，之后进入拥塞避免。**
- **快重传：收到三个重复确认后，立即重传。**
- **快恢复：收到三个重复确认后，将慢开始门限减半，窗口大小变为门限大小，之后进入拥塞避免。**
![image](https://img-blog.csdn.net/20170823152914228?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzY5NTMxMzU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)

## 8. 运输层的端口号、几类、每一类的范围

- 知名端口：0-1023 分配给广泛使用的服务 广泛使用
- 注册端口：1024——49151 分配给用户盒应用程序，可申请使用 需要注册
- 私有端口：49152——65535 应用程序动态选择作为临时会话 临时使用

## 9. ICMP报文的传送

- ICMP类型：
  - 差错报告（终点不可达、时间超过、参数问题、重定向）
  - 询问报文（回送请求、时间戳请求）。

## 10. 几种交换技术的特点

- 电路交换：先建立连接再进行交换。
- 报文交换：以报文为单位进行传输，可能拥塞延迟。
- 分组交换：分成较小的数据包进行传输，灵活性高。

## 11. TCP的连接和释放过程

- 连接过程：三次握手（客户端请求、服务器响应、客户端确认连接）。
- 释放过程：四次握手（客户端请求、服务器确认、传输完成后服务器确认、客户端确认）。

## 12. TCP的流量控制、拥塞控制

- 流量控制通过滑动窗口进行动态调整，避免溢出。
- 拥塞控制通过动态调整窗口大小进行调整，减小丢包概率。

## 13. 子网掩码、子网号的求解（PPT P103）

## 14. 网络聚合（PPT）

## 15. IP数据包首部字段（PPT P139）

```stru
 0                   1                   2                   3   
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|版本号 |  首部长度 |   服务类型    |          总长度            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|          标识                |标志位|     分片偏移            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  生存时间     |    协议       |        首部校验和             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                         源地址                                |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                       目标地址                                |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                  选项和填充（可选）                            |
|                               ...                             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    数据（负载）                               |
|                               ...                             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
```

## 16. TCP首部字段（在IP数据包的数据部分）

在IP数据包的数据部分
数据链路层 端口号，确认号，……

## 17. UDP首部检验和计算方法

构建伪首部与实际的首部进行16位求和求反码

## 18. ADSL技术

## 19. CSMA/CD协议

- 监听信道，进行碰撞检测，随机等待事件后重新发送。

## 20. ARP地址解析协议和工作原理（PPT P133）

在自己的ARP缓存中查找是否存在该MAC地址，如无则广播寻找该MAC地址，等收到返回单播信息后在进行发送

## 21. 数据链路层的基本问题

- 封装成帧、差错检测、透明传输、**循环冗余检验算法、CRC检测**。

## 22. 三种情况下的消息处理

- 无差错情况：确认收到。
- 出现差错：未收到确认收到消息，超时重传。
- 确认丢失、确认迟到、收到重复分组：丢弃重复分组，重新确认。

## 23. ICMP、IGMP、MSS、TTL、MS

- ICMP用于传输控制消息，如ping命令。
- IGMP用于主机和路由器之间的组播组管理。 多播
- TTL（生存时间）指定数据包在网络上可以经过的最大路由器数量。
- MSS（最大段大小）是TCP协议中指定的最大数据段的大小。

## 24. 网络长度（PPT P127）

## 25. 以太网的两个标准

- IEEE 802.3标准用于有线以太网。
- IEEE 802.11标准用于无线局域网。

## 26. 习题（PPT P79）

## 27. 时延的构成和计算

- 发送时延、传播时延、处理时延、排队时延。
- 传播时延：自由空间（3 \*10^5 km/s）、铜线电缆（2.3\*10^5
 km/s）、光纤（2\*10^5 km/s）。注意单位是\*8。

## 28. 路由表更新过程（PPT P211）

## 29. 给出主机IP、网络长度，求子网地址（PPT P124）

## 30. UDP报文格式

```stru
+-------+--------+--------+--------+
| 源端口 | 目标端口 |   长度   |  校验和  |
+-------+--------+--------+--------+
|             数据（可选）             |
+----------------------------------+
```

## 31. OSPF报文格式

```stru
+-----------------+----------------+----------------+
|       版本      |    类型        |       包长度    |
+-----------------+----------------+----------------+
|      路由器ID   |     区域ID     | 检验和          |
+-----------------+----------------+----------------+
|      检验和     |  首部长度      |    路由类型    |
+-----------------+----------------+----------------+
|         ... 变化的字段 ...                             |
+-----------------+----------------+----------------+
```

## 32. BGP报文格式

```stru
+------------------------+
|      消息头            |
+------------------------+
|      BGP 报文           |
+------------------------+
```

## 33. 划分子网

- 给定主机IP、网络长度，求子网地址。
